<div class="container">
    <h1>To-Do List</h1>
    <form [formGroup]="todoForm" (ngSubmit)="addTodo()">
      <input type="text" formControlName="task" placeholder="New Task" />
      <button type="submit">Add</button>
    </form>
  
    <ul>
      @for (todo of todos$ | async; track todo._id) {
        <li>
          <input
            type="checkbox"
            [checked]="todo.completed"
            (change)="updateTodo(todo)"
          />
          <span [class.completed]="todo.completed">{{ todo.title }}</span>
          <button (click)="deleteTodo(todo._id)">Delete</button>
        </li>        
      }
      @empty {
        <p>Aucune tâche à faire</p>
      }
    </ul>
  </div>